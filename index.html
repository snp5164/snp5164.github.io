<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8"/>
    <title>snp's funny website</title>
    <meta content="snp's funny website" property="og:title">
    <meta content="hello i am a discord embed" property="og:description">
    <meta content="https://catboy.sex/" property="og:url">
    <meta content="https://catboy.sex/misc/img/yeah.jpg" property="og:image">
    <meta content="#72b4f1" data-react-helmet="true" name="theme-color">
    <link rel="stylesheet" href="index.css">
</head>

<div class="blur-box">
    <h1 style="font-size: 32px;">hey there.</h1><img width="454" height="454" alt="image" src="misc/img/random glaceon/471Glaceon_WF.png"/>
    <p>currently under construction (more like, trying to come up with good ideas for what to do with this website)</p>
    <p>the website will Soonâ„¢ at least somewhat change in appearance. how soon? who fuckin knows!</p>
    <p>here's something you can do right now, though: send me a message that will be forwarded in my semi-private discord server for all members to see :)</p>
    <br><form action="javascript:void(0);" id="form">
        <input id="username" minlength="1" maxlength="32" value="" placeholder="your name (max 32 chars)" type="text" required/><br>
        <textarea  id="content" minlength="1" maxlength="1024" placeholder="your message (max 1024 chars)" required></textarea><br>
        <input id="send" type="submit" value="Send"/>
    </form>
    <br><p>also see the few shitpost pages that have been made:</p>
    <p><a href="https://loves.catboy.sex"><b>loves.catboy.sex</b></a> (wildcard domain to say someone loooves catboy sex)</p>
    <p><a href="https://catboy.sex/ninja"><b>ninja</b></a> (embeds on discord!)</p>
    <p><a href="https://catboy.sex/markiplier"><b>markiplier</b></a> (also embeds, made by fleur)</p>
    <br><a style="font-size: 12px;" href="https://github.com/snp5164/snp5164.github.io">github repo</a>
    <a style="font-size: 12px;" href="https://discord.gg/gQxAcHkWex">discord server</a>
</div>
</html>

<script>
  const form = document.querySelector('#form'),
    username = document.querySelector('#username'),
    content = document.querySelector('#content'),
    send = document.querySelector('#send');
  form.addEventListener('submit', async () => {
    send.disabled = true;
    username.disabled = true;
    content.disabled = true;
    let res = await fetch('https://penis.catboy.sex/', {
      method: 'POST',
      headers: {
        'Content-Type': 'application/json',
      },
      body: JSON.stringify({
        name: username.value,
        content: content.value,
      }),
    })
      .then((e) => e.text())
      .then((e) => [true, e])
      .catch((e) => [false, e]);

    send.disabled = false;
    username.disabled = false;
    content.disabled = false;
    if (res[0]) content.value = '';
    alert(res[1]);
  });
</script>
